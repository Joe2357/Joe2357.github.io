---
title: "[BOJ 11729] 하노이 탑 이동 순서"
author: Joe2357
categories: [Problem Solving, Baekjoon]
tags: [Baekjoon]
uploaded_at: 2019-08-18 22:48:09 +0900
last_modified_at: 2024-03-18 13:51:21 +0900
description: "- 문제풀이"
math: true
---

> 문제 링크 : [https://www.acmicpc.net/problem/11729](https://www.acmicpc.net/problem/11729)


### 문제

<p>세 개의 장대가 있고 첫 번째 장대에는 반경이 서로 다른 n개의 원판이 쌓여 있다. 각 원판은 반경이 큰 순서대로 쌓여있다. 이제 수도승들이 다음 규칙에 따라 첫 번째 장대에서 세 번째 장대로 옮기려 한다.</p>
<ol>
<li>한 번에 한 개의 원판만을 다른 탑으로 옮길 수 있다.</li>
<li>쌓아 놓은 원판은 항상 위의 것이 아래의 것보다 작아야 한다.</li>
</ol>
<p>이 작업을 수행하는데 필요한 이동 순서를 출력하는 프로그램을 작성하라. 단, 이동 횟수는 최소가 되어야 한다.</p>
<p>아래 그림은 원판이 5개인 경우의 예시이다.</p>
<p style="text-align: center;"><center><img alt="" src="https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/11729/hanoi.png" style="height:200px; width:1050px"/></center></p>



### 입력

<p>첫째 줄에 첫 번째 장대에 쌓인 원판의 개수 N (1 ≤ N ≤ 20)이 주어진다.</p>



### 출력

<p>첫째 줄에 옮긴 횟수 K를 출력한다.</p>
<p>두 번째 줄부터 수행 과정을 출력한다. 두 번째 줄부터 K개의 줄에 걸쳐 두 정수 A B를 빈칸을 사이에 두고 출력하는데, 이는 A번째 탑의 가장 위에 있는 원판을 B번째 탑의 가장 위로 옮긴다는 뜻이다.</p>



### 제한

| 시간 제한 | 메모리 제한 |
| :-------: | :---------: |
| 1sec | 256MB |



---


### 풀이

세 개의 장대 사이에서 원판을 규칙에 맞게 옮기는 **하노이 탑(Tower of Hanoi)** 문제다. 한 번에 하나의 원판만 옮길 수 있고 큰 원판이 작은 원판 위에 있을 수 없다는 제약 조건 하에서 최소 이동 횟수를 구해야 하므로, 전형적인 **재귀**를 활용하여 해결할 수 있다.

$N$개의 원판을 첫 번째 장대($S$)에서 세 번째 장대($E$)로 옮기는 과정은 다음과 같은 세 단계의 재귀적 구조로 쪼개어 생각할 수 있다.

1. 가장 아래에 있는 $N$번째 원판을 제외한 위의 $N-1$개 원판을 보조 장대(Middle)로 옮긴다.
2. 가장 아래에 홀로 남은 $N$번째 원판을 목적지인 세 번째 장대($E$)로 옮긴다.
3. 보조 장대에 두었던 $N-1$개의 원판을 다시 목적지 장대($E$)로 옮긴다.

이 과정을 원판이 1개일 때까지 반복하면 모든 원판을 옮기는 경로를 출력할 수 있다. 하노이 탑의 최소 이동 횟수 $K$는 원판의 개수 $N$에 대하여 다음과 같은 관계를 가진다.




$$
K = 2^N - 1
$$




문제에서 $N$의 범위는 $1 \leq N \leq 20$으로 주어져 있다. 이동 횟수는 최대 $2^{20} - 1 = 1\,048\,575$번이 되며, 이는 시간 제한 1초 내에 출력하기에 충분한 수치다.

소스 코드에서는 세 장대의 번호 합이 항상 $1 + 2 + 3 = 6$이라는 점을 이용하여, 시작점($s$)과 도착점($e$)이 주어졌을 때 나머지 보조 장대의 번호를 `6 - s - e`로 간단히 계산하여 재귀 함수를 구현하였다.


### 소스코드

> Github Link : [Source Code](https://github.com/Joe2357/Baekjoon/blob/master/C/Code/11700/11729.c)
>
> 참고 알고리즘 : 