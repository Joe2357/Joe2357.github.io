---
title: "[BOJ 2023] 신기한 소수"
author: Joe2357
categories: [Problem Solving, Baekjoon]
tags: [Baekjoon]
uploaded_at: 2024-10-15 17:17:02 +0900
last_modified_at: 2025-10-11 14:26:32 +0900
description: "- 문제풀이"
math: true
---

> 문제 링크 : [https://www.acmicpc.net/problem/2023](https://www.acmicpc.net/problem/2023)


### 문제

<p>수빈이가 세상에서 가장 좋아하는 것은 소수이고, 취미는 소수를 가지고 노는 것이다. 요즘 수빈이가 가장 관심있어 하는 소수는 7331이다.</p>
<p>7331은 소수인데, 신기하게도 733도 소수이고, 73도 소수이고, 7도 소수이다. 즉, 왼쪽부터 1자리, 2자리, 3자리, 4자리 수 모두 소수이다! 수빈이는 이런 숫자를 신기한 소수라고 이름 붙였다.</p>
<p>수빈이는 N자리의 숫자 중에서 어떤 수들이 신기한 소수인지 궁금해졌다. N이 주어졌을 때, 수빈이를 위해 N자리 신기한 소수를 모두 찾아보자.</p>



### 입력

<p>첫째 줄에 N(1 ≤ N ≤ 8)이 주어진다.</p>



### 출력

<p>N자리 수 중에서 신기한 소수를 오름차순으로 정렬해서 한 줄에 하나씩 출력한다.</p>



### 제한

| 시간 제한 | 메모리 제한 |
| :-------: | :---------: |
| 2sec | 4MB |



---


### 풀이

우선 [소수판별법](https://joe2357.github.io/posts/Prime-Number/) 문제이니 어떤 알고리즘을 쓸지 생각해보자. 최대 $10^8$까지의 소수를 찾아야하므로 일반적으로는 [소수판별법 :: 에라토스테네스의 체](https://joe2357.github.io/posts/Prime-Number/#에라토스테네스의-체) 방법을 떠올리겠지만, <u>메모리 제한이 4MB</u>이므로 사용할 수 없다. 시간이 좀 더 걸리더라도 소수판정 기본형을 사용하도록 하자. 후술하겠지만, 탐색해볼 숫자가 그렇게 많지 않다.

이후부터는 [백트래킹 알고리즘](https://joe2357.github.io/posts/Backtracking/)을 통해 **유망한 숫자들에 대해서만 추가 탐색**을 진행하는 방법을 사용하자. 문제에서 주어진 조건에 의해, 현재 길이가 $l$인 숫자 $x$에 대해서 `숫자를 뒤에 추가하는 연산`을 수행하려하는데, $x$가 소수가 아니면 그 뒤의 숫자들은 탐색할 필요가 없기 때문이다. $l=1$인 경우만 하더라도 가능한 소수는 $2,3,5,7$ 뿐이고, $l$이 늘어날수록 탐색할 가짓수는 꽤 많이 줄어든다. 갯수를 셀 필요 없이 가능한 숫자들을 오름차순 정렬하여 출력해야하므로, 백트래킹을 통해 숫자가 만들어지는 순서대로 출력해주면 정렬된 효과를 가져올 수도 있다.




### 소스코드

> Github Link : [Source Code](https://github.com/Joe2357/Baekjoon/blob/master/C/Code/2000/2023.c)
>
> 참고 알고리즘 : [소수판별법](https://joe2357.github.io/posts/Prime-Number/), [백트래킹 알고리즘](https://joe2357.github.io/posts/Backtracking/)